<?xml version="1.0"?>
<odoo>

    <record id="survey_user_input_line_view_list_editable" model="ir.ui.view">
        <field name="name">survey.user_input.line.tree</field>
        <field name="model">survey.user_input.line</field>
        <field name="arch" type="xml">
            <tree string="Free User Answers" create="false" decoration-info="is_reviewed == True">
                <field name="value_char_box" readonly="1"/>
                <field name="answer_char_box"/>
                <field name="answer_score"/>
                <field name="answer_is_correct" readonly="1"/>
                <field name="is_reviewed" invisible="1"/>
                <button name="action_set_uncorrect" string="Uncorrect" type="object" icon="fa-times text-warning"/>
                <button name="action_set_halfcorrect" string="Half Correct" type="object" icon="fa-star-half text-info"/>
                <button name="action_set_correct" string="Correct" type="object" icon="fa-check text-success"/>
            </tree>
        </field>
    </record>

    <record id="survey_user_input_line_view_search" model="ir.ui.view">
        <field name="name">survey.user_input.line.tree</field>
        <field name="model">survey.user_input.line</field>
        <field name="inherit_id" ref="survey.survey_user_input_line_view_search"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='survey_id']" position="after">
                <filter string="To Review" name="to_review" domain="[('is_reviewed', '=', False)]"/>
                <separator/>
            </xpath>
            <xpath expr="//filter[@name='group_by_survey']" position="after">
                <filter name="group_by_question" string="Question" domain="[]"  context="{'group_by':'question_id'}"/>
            </xpath>
        </field>
    </record>

	<record id="survey_userinput_action_to_correct" model="ir.actions.act_window">
        <field name="name">Free User answer</field>
        <field name="res_model">survey.user_input.line</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('answer_type', '=', 'char_box'), ('skipped', '=', False), ('question_id.save_as_nickname', '=', False)]</field>
       	<field name="context">{
            'search_default_survey_id': active_id,
            'search_default_group_by_question': 1,
            'question_name_include_seq': 1,
            'search_default_to_review': 1,
        }</field>
    </record>

    <record id="survey_userinput_action_to_correct_tree" model="ir.actions.act_window.view">
        <field name="act_window_id" ref="survey_userinput_action_to_correct"/>
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="survey_user_input_line_view_list_editable"/>
    </record>

</odoo>
