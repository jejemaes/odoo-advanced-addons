<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--
        Extend the existing templates
    -->
    <template id="report_registration_badge" inherit_id="event.event_registration_report_template_badge" priority="1">
        <xpath expr="//div[@id='o_event_name']" position="after">
            <div class="col-12" t-if="o.event_id.use_qrcode">
                <div class="text-center justify-content-center">
                    <img t-attf-src="data:image/png;base64,#{o.qrcode}" alt="QRCode" class="img-fluid" style="max-width:50%;"/>&amp;nbsp;
                </div>
            </div>
        </xpath>
    </template>

    <template id="report_event_template_badge" inherit_id="event.event_event_report_template_badge" priority="1">
        <xpath expr="//div[@id='o_event_attendee_name']" position="after">
            <div class="col-12" t-if="event.use_qrcode">
                <div style="background: lightgrey; width:300px;" class="text-center">
                    <h1 class="text-center mt0"><i class="fa-2x fa fa-qrcode" title="QRCode" role="img" aria-label="QRCode"/></h1>
                </div>
            </div>
        </xpath>
    </template>

    <!--
        Simple Event Badge
    -->

    <template id="event_registration_report_template_badge">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <div class="row text-center">
                        <div class="col-12">
                            <t t-if="o.event_id.event_logo">
                                <div t-field="o.event_id.event_logo"/>
                            </t>
                            <span t-if="not o.event_id.event_logo and o.event_id.organizer_id.company_id.logo_web and o.event_id.organizer_id.is_company">
                                <img t-att-src="image_data_uri(o.event_id.organizer_id.company_id.logo_web)" style="max-height:1cm; max-width:4cm;" alt="Logo"/>
                            </span>
                            <h3 t-field="o.event_id.name"/>
                            <h6>From <span itemprop="startDate" t-field="o.event_id.with_context(tz=o.event_id.date_tz).date_begin" t-options='{"hide_seconds": True}'> </span> <i>to</i> <span itemprop="endDate" t-field="o.event_id.with_context(tz=o.event_id.date_tz).date_end" t-options='{"hide_seconds": True}'> </span></h6>
                            <h4 t-field="o.name"/>
                            <h4 t-if="o.event_ticket_id" t-field="o.event_ticket_id.name"/>
                        </div>
                    </div>
                    <div t-if="o.event_id.use_qrcode" class="row justify-content-md-center justify-content-lg-center">
                        <div class="col-12">
                            <div class="text-center justify-content-center" t-if="o.event_id.use_qrcode">
                                <img t-attf-src="data:image/png;base64,#{o.qrcode}" alt="QRCode" class="img-fluid" style="max-width:320px"/>&amp;nbsp;
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-12">
                            <div t-field="o.event_id.badge_front"></div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>

    <template id="event_event_report_template_badge">
        <t t-call="web.basic_layout">
            <div class="page">
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                        <div class="row text-center">
                            <div class="col-12">
                                <t t-if="o.event_logo">
                                    <div t-field="o.event_logo"/>
                                </t>
                                <span t-if="not o.event_logo and o.organizer_id.company_id.logo_web and o.organizer_id.is_company">
                                    <img t-att-src="image_data_uri(o.organizer_id.company_id.logo_web)" style="max-height:1cm; max-width:4cm;" alt="Logo"/>
                                </span>
                                <h3 t-field="o.name"/>
                                <h6>From <span itemprop="startDate" t-field="o.with_context(tz=o.date_tz).date_begin" t-options='{"hide_seconds": True}'> </span> <i>to</i> <span itemprop="endDate" t-field="o.with_context(tz=o.date_tz).date_end" t-options='{"hide_seconds": True}'> </span></h6>
                                <h4>Attendee Name</h4>
                            </div>
                        </div>
                        <div t-if="o.use_qrcode" class="row justify-content-md-center justify-content-lg-center">
                            <div class="col-12">
                                <div style="background: lightgrey; width:300px; height:300px; margin:auto">
                                    <h1 class="text-center"><i class="fa-2x fa fa-qrcode" title="QRCode" role="img" aria-label="QRCode"/></h1>
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <div class="col-12">
                                <div t-field="o.badge_front"></div>
                            </div>
                        </div>
                    </div>
                </t>
            </div>
        </t>
    </template>

</odoo>
